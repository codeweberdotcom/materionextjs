# üîç –£–ì–õ–£–ë–õ–ï–ù–ù–´–ô –ê–ù–ê–õ–ò–ó –ú–û–î–£–õ–Ø –ß–ê–¢–ê

## üìä –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-11-16  
**–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã–π –º–æ–¥—É–ª—å:** Chat (Socket.IO + REST API + React)  
**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç—Å—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ª—É—á—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ú–û–î–£–õ–Ø

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. **–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (Backend):**
   - Socket.IO namespace: `src/lib/sockets/namespaces/chat/index.ts` (502 —Å—Ç—Ä–æ–∫–∏)
   - REST API: `src/app/api/chat/messages/route.ts` (199 —Å—Ç—Ä–æ–∫)
   - Middleware –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: `src/lib/sockets/middleware/auth.ts` (267 —Å—Ç—Ä–æ–∫)
   - –¢–∏–ø—ã: `src/lib/sockets/types/chat.ts` (137 —Å—Ç—Ä–æ–∫)

2. **–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (Frontend):**
   - –û—Å–Ω–æ–≤–Ω–æ–π —Ö—É–∫: `src/hooks/useChatNew.ts` (914 —Å—Ç—Ä–æ–∫) ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –°–õ–û–ñ–ù–û–°–¢–¨
   - Redux —Å–ª–∞–π—Å—ã:
     - `src/redux-store/slices/chat.ts`
     - `src/redux-store/slices/chatQueue.ts` (86 —Å—Ç—Ä–æ–∫)
   - React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
     - `src/views/apps/chat/index.tsx`
     - `src/views/apps/chat/ChatContent.tsx` (289 —Å—Ç—Ä–æ–∫)
     - `src/views/apps/chat/ChatLog.tsx`
     - `src/views/apps/chat/SidebarLeft.tsx`
     - `src/views/apps/chat/SendMsgForm.tsx`

3. **–£—Ç–∏–ª–∏—Ç—ã:**
   - `src/utils/chat/normalizeMessageContent.ts` (31 —Å—Ç—Ä–æ–∫–∞)

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 1. **–ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (Security)**

#### 1.1. –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ Rate Limit –¥–∞–Ω–Ω—ã—Ö
**–§–∞–π–ª:** `src/hooks/useChatNew.ts` (—Å—Ç—Ä–æ–∫–∏ 881-913)  
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø

```typescript
const readStoredRateLimit = (userId?: string): number | null => {
  if (typeof window === 'undefined' || !userId) return null
  try {
    const raw = window.localStorage.getItem(RATE_LIMIT_STORAGE_KEY)
    // Rate limit –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ localStorage!
    const parsed = JSON.parse(raw) as Record<string, number>
    return parsed[userId] ?? null
  } catch {
    return null
  }
}
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- Rate limit –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —á–µ—Ä–µ–∑ DevTools
- –ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –æ–±–æ–π—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –æ—á–∏—Å—Ç–∏–≤ localStorage
- –ù–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏–º–∏—Ç–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å rate limiting –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–æ–≤
- –£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –ª–æ–≥–∏–∫—É rate limiting

#### 1.2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
**–§–∞–π–ª:** `src/lib/sockets/namespaces/chat/index.ts` (—Å—Ç—Ä–æ–∫–∏ 120-140)  
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø

```typescript
// –°–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –±–µ–∑ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏
const message = await prisma.message.create({
  data: {
    content: data.message, // ‚ö†Ô∏è –ü—Ä—è–º–∞—è –≤—Å—Ç–∞–≤–∫–∞ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏
    roomId: room.id,
    senderId: socket.data.user.id
  }
})
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –í–æ–∑–º–æ–∂–Ω–∞ XSS –∞—Ç–∞–∫–∞ —á–µ—Ä–µ–∑ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π JavaScript
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ SQL injection (—Ö–æ—Ç—è Prisma –∑–∞—â–∏—â–∞–µ—Ç)
- –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å DOMPurify –¥–ª—è —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏ HTML
- –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–ª–∏–Ω—É —Å–æ–æ–±—â–µ–Ω–∏–π (–º–∞–∫—Å 5000 —Å–∏–º–≤–æ–ª–æ–≤)
- –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã

#### 1.3. –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è Socket.IO
**–§–∞–π–ª:** `src/lib/sockets/middleware/auth.ts` (—Å—Ç—Ä–æ–∫–∏ 45-60)  
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** üü° –í–´–°–û–ö–ê–Ø

```typescript
// –¢–æ–∫–µ–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ query string
const token = handshake.query.token as string
// ‚ö†Ô∏è –¢–æ–∫–µ–Ω—ã –≤ query string –ø–æ–ø–∞–¥–∞—é—Ç –≤ –ª–æ–≥–∏ –∏ referrer headers
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –¢–æ–∫–µ–Ω—ã –≤ URL –ø–æ–ø–∞–¥–∞—é—Ç –≤ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –¢–æ–∫–µ–Ω—ã –≤–∏–¥–Ω—ã –≤ referrer headers
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cookies –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ç–æ–∫–µ–Ω–æ–≤
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å refresh token –º–µ—Ö–∞–Ω–∏–∑–º

---

### 2. **–ü—Ä–æ–±–ª–µ–º—ã —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ (Stability)**

#### 2.1. Memory Leaks –≤ useChatNew
**–§–∞–π–ª:** `src/hooks/useChatNew.ts` (—Å—Ç—Ä–æ–∫–∏ 450-480)  
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** üü° –í–´–°–û–ö–ê–Ø

```typescript
useEffect(() => {
  const interval = setInterval(async () => {
    await checkRateLimit()
  }, 10000)
  // ‚ö†Ô∏è –ù–µ—Ç cleanup —Ñ—É–Ω–∫—Ü–∏–∏ - –∏–Ω—Ç–µ—Ä–≤–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ—á–Ω–æ
}, [])
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –Ω–µ –æ—á–∏—â–∞—é—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- Event listeners –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è
- –ü–æ–¥–ø–∏—Å–∫–∏ Socket.IO –Ω–µ –æ—Ç–ø–∏—Å—ã–≤–∞—é—Ç—Å—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å cleanup —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ –≤—Å–µ useEffect
- –û—Ç–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –æ—Ç Socket.IO —Å–æ–±—ã—Ç–∏–π
- –û—á–∏—â–∞—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –∏ —Ç–∞–π–º–µ—Ä—ã

#### 2.2. Race Conditions –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π
**–§–∞–π–ª:** `src/hooks/useChatNew.ts` (—Å—Ç—Ä–æ–∫–∏ 200-250)  
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** üü° –°–†–ï–î–ù–Ø–Ø

```typescript
const sendMessage = async (content: string) => {
  // –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
  await socket.emit('sendMessage', { roomId, message: content })
}
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
- –ù–µ—Ç –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–æ–≥—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å debounce –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å request ID –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å optimistic updates —Å —Å–µ—Ä–≤–µ—Ä–æ–º

---

### 3. **–ü—Ä–æ–±–ª–µ–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (Architecture)**

#### 3.1. –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π —Ö—É–∫ useChatNew (914 —Å—Ç—Ä–æ–∫)
**–§–∞–π–ª:** `src/hooks/useChatNew.ts`  
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** üü† –°–†–ï–î–ù–Ø–Ø

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –°–º–µ—à–∏–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏, UI state –∏ side effects
- –¢—Ä—É–¥–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- –ù–∞—Ä—É—à–µ–Ω–∏–µ Single Responsibility Principle

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –º–µ–Ω—å—à–∏–µ —Ö—É–∫–∏:
  - `useChatConnection` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
  - `useChatMessages` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
  - `useChatRateLimit` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ rate limiting
  - `useChatQueue` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—å—é

#### 3.2. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ state management
**–§–∞–π–ª:** `src/redux-store/slices/chat.ts` –∏ `src/hooks/useChatNew.ts`  
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** üü† –°–†–ï–î–ù–Ø–Ø

**–ü—Ä–æ–±–ª–µ–º—ã:**
- Redux state –∏ –ª–æ–∫–∞–ª—å–Ω—ã–π state –¥—É–±–ª–∏—Ä—É—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –º–µ–∂–¥—É optimistic updates –∏ server state
- –ù–µ—Ç –µ–¥–∏–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø—Ä–∞–≤–¥—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React Query –¥–ª—è server state
- Redux —Ç–æ–ª—å–∫–æ –¥–ª—è UI state
- –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üõ†Ô∏è –ü–†–ï–î–õ–û–ñ–ï–ù–ò–Ø –ü–û –£–õ–£–ß–®–ï–ù–ò–Ø–ú

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–ö—Ä–∏—Ç–∏—á–Ω–æ)

1. **–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å rate limiting –Ω–∞ —Å–µ—Ä–≤–µ—Ä**
   - –£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –ª–æ–≥–∏–∫—É
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –¥–ª—è —Å—á–µ—Ç—á–∏–∫–æ–≤
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–∏–º–∏—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

2. **–î–æ–±–∞–≤–∏—Ç—å —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π**
   ```typescript
   import DOMPurify from 'dompurify'
   
   const sanitizeMessage = (content: string): string => {
     return DOMPurify.sanitize(content, { ALLOWED_TAGS: [] })
   }
   ```

3. **–£–ª—É—á—à–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é Socket.IO**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cookies –≤–º–µ—Å—Ç–æ query string
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–æ–≤
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å refresh token

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å (–í–∞–∂–Ω–æ)

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å memory leaks**
   ```typescript
   useEffect(() => {
     const interval = setInterval(checkRateLimit, 10000)
     return () => clearInterval(interval) // ‚úÖ Cleanup
   }, [])
   ```

2. **–î–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç race conditions**
   ```typescript
   const sendMessage = useMemo(
     () => debounce(async (content: string) => {
       await socket.emit('sendMessage', { roomId, message: content })
     }, 300),
     [roomId]
   )
   ```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–†–∞–∑–¥–µ–ª–∏—Ç—å useChatNew –Ω–∞ –º–µ–Ω—å—à–∏–µ —Ö—É–∫–∏**
2. **–£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ state management**
3. **–î–æ–±–∞–≤–∏—Ç—å error boundaries**

---

## üìä –û–¶–ï–ù–ö–ê –†–ò–°–ö–û–í

| –ü—Ä–æ–±–ª–µ–º–∞ | –°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|----------|-------------|-------------|-----------|
| XSS —á–µ—Ä–µ–∑ —Å–æ–æ–±—â–µ–Ω–∏—è | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | –í—ã—Å–æ–∫–∞—è | 1 |
| –û–±—Ö–æ–¥ rate limiting | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | –í—ã—Å–æ–∫–∞—è | 1 |
| Memory leaks | üü° –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω—è—è | 2 |
| Race conditions | üü° –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω—è—è | 2 |
| –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã | üü† –°—Ä–µ–¥–Ω—è—è | –ù–∏–∑–∫–∞—è | 3 |

---

## üéØ –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### –ù–µ–¥–µ–ª—è 1: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å rate limiting –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –£–ª—É—á—à–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é Socket.IO

### –ù–µ–¥–µ–ª—è 2: –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å memory leaks
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç race conditions
- [ ] –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

### –ù–µ–¥–µ–ª—è 3: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- [ ] –†–∞–∑–¥–µ–ª–∏—Ç—å useChatNew –Ω–∞ –º–µ–Ω—å—à–∏–µ —Ö—É–∫–∏
- [ ] –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ state management
- [ ] –î–æ–±–∞–≤–∏—Ç—å error boundaries

---

**–ú–æ–¥—É–ª—å —á–∞—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π –¥–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è!** üö®









