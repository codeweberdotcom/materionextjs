# –ê–Ω–∞–ª–∏–∑ –º–æ–¥—É–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–ª–∞–Ω–∞)

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è:** 2025-11-24  
**–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

---

## üéØ –¶–µ–ª—å –∞–Ω–∞–ª–∏–∑–∞

–ü–µ—Ä–µ–æ—Ü–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –º–æ–¥—É–ª—è –ø–æ —Ñ–∞–∫—Ç—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞, –Ω–µ –æ–ø–∏—Ä–∞—è—Å—å –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –≤—ã–≤–æ–¥—ã, –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ —Ä–∏—Å–∫–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–ª–∞–Ω–æ–º `docs/plans/active/plan-e2e-test-improvements-user-creation-2025-01-24.md`, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ –ø–ª–∞–Ω –ø–æ–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã.

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å
- API: `src/app/api/admin/users/*`, `src/app/api/user/*`, `src/app/api/users`.
- –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π: `src/services/business/userService.ts`, `src/services/database/userRepository.ts`, `src/services/events/*`, `src/services/data-sanitization.service.ts`.
- –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç: `src/services/adapters/UserAdapter.ts`, `src/services/import/*`, `src/services/export/*`.
- UI –∏ –¥–∞–Ω–Ω—ã–µ: `src/views/apps/user/list/*`, `src/app/[lang]/(dashboard)/(private)/apps/user/list/page.tsx`, `src/app/server/actions.ts`.
- –¢–µ—Å—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: `tests/e2e/helpers/user-helpers.ts`, e2e —Å–ø–µ–∫–∏, rate-limit –¥–≤–∏–∂–æ–∫, –º–µ—Ç—Ä–∏–∫–∏, event service.

### –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è
1. –†—É—á–Ω–æ–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ –ø–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º (API, —Å–µ—Ä–≤–∏—Å—ã, UI, —Ç–µ—Å—Ç–æ–≤—ã–µ –ø–æ–º–æ—â–Ω–∏–∫–∏).
2. –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è —Å –∑–∞—è–≤–ª–µ–Ω–Ω—ã–º–∏ —Ü–µ–ª—è–º–∏ –ø–ª–∞–Ω–∞.
3. –û—Ç–¥–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤: —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞, –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–æ–≤, e2e-—Ö–µ–ª–ø–µ—Ä—ã, –º–µ—Ç—Ä–∏–∫–∏, —Å–æ–±—ã—Ç–∏—è –∏ rate-limit.

---

## üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞

### –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –∫–æ–¥–µ

| # | –ü—Ä–æ–±–ª–µ–º–∞ | –î–µ—Ç–∞–ª–∏ | –í–ª–∏—è–Ω–∏–µ |
|---|----------|--------|---------|
| 1 | **–ü–∞—Ä–æ–ª—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —Ö—ç—à–∏—Ä—É–µ—Ç—Å—è** | `POST /api/admin/users` –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç `password: 'password123'` –±–µ–∑ bcrypt (`src/app/api/admin/users/route.ts`). –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å–º–æ–∂–µ—Ç –≤–æ–π—Ç–∏, –ø–æ–∫–∞ –ø–∞—Ä–æ–ª—å –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω –≤—Ä—É—á–Ω—É—é; –æ–≥—Ä–æ–º–Ω—ã–π —Ä–∏—Å–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ |
| 2 | **Toggle –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** | UI (`UserListTable`) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `PATCH /api/admin/users/:id` –±–µ–∑ —Ç–µ–ª–∞, –∞ API —Ç—Ä–µ–±—É–µ—Ç `isActive` –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–∞—Ä—Å–∏—Ç—å JSON (`src/app/api/admin/users/[id]/route.ts`). –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—á–∏—Å—Ç–∫–∏ –∫–µ—à–∞. | –í—ã—Å–æ–∫–æ–µ |
| 3 | **–ò–º–ø–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ endpoints** | `UserAdapter.saveImportedData()` –≤—ã–∑—ã–≤–∞–µ—Ç `/api/admin/users/update-by-email` –∏ `/api/admin/users/upsert`, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç ‚Üí —Ä–µ–∂–∏–º—ã `update` –∏ `upsert` –≤—Å–µ–≥–¥–∞ –ø–∞–¥–∞—é—Ç (404). | –í—ã—Å–æ–∫–æ–µ |
| 4 | **–ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–æ–≤** | –ê–¥–º–∏–Ω—Å–∫–∏–π `POST` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–∞–π–ª—ã –≤ `public/images/avatars`, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π `/api/user/avatar` –ø–∏—à–µ—Ç base64 –≤ –ë–î. –ù–µ—Ç –µ–¥–∏–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞, —Ä–∞—Å—Ç—ë—Ç —Ä–∞–∑–º–µ—Ä –±–∞–∑—ã, –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –≤ CDN/–∫—ç—à–µ. | –°—Ä–µ–¥–Ω–µ–µ |
| 5 | **In-memory –∫–µ—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ PATCH** | `usersCache` —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ `POST/PUT/DELETE`, –Ω–æ –Ω–µ –ø—Ä–∏ `PATCH`. UI –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—É—á–∞–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö. | –°—Ä–µ–¥–Ω–µ–µ |
| 6 | **–ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏** | –†–∞–∑–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä—É–∫–∞–º–∏ —á–∏—Ç–∞—é—Ç `FormData`/JSON, –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—â–∞—è —Å—Ö–µ–º–∞. –û—à–∏–±–∫–∏ –≥–¥–µ-—Ç–æ –≤ `console.error`, –≥–¥–µ-—Ç–æ —á–µ—Ä–µ–∑ logger. –≠—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É. | –°—Ä–µ–¥–Ω–µ–µ |
| 7 | **Bulk-–æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞** | –ú–∞—Å—Å–æ–≤—ã–µ delete/status-change —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ `fetch` –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. –ü—Ä–∏ —á–∞—Å—Ç–∏—á–Ω–æ–º —É—Å–ø–µ—Ö–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç UI-–ª–æ–≥–∏–∫–∏, –∞ —Å–æ–±—ã—Ç–∏—è (`eventService.record`) –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å. | –°—Ä–µ–¥–Ω–µ–µ |

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–ª–∞–Ω–∞ (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

| –û–±–ª–∞—Å—Ç—å –∏–∑ –ø–ª–∞–Ω–∞ | –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –∫–æ–¥–µ |
|------------------|------------------|
| **Helper-—Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** | `tests/e2e/helpers/user-helpers.ts` —Ä–µ–∞–ª–∏–∑—É–µ—Ç `createTestUserViaAPI`, `deleteTestUserViaAPI`, `clearRateLimitsForTestIP`, `generateTestRunId`, –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ email. **‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ.** |
| **–ú–µ—Ç—Ä–∏–∫–∏ —Å label `environment`** | –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ (`src/lib/metrics/*.ts`) –∏—Å–ø–æ–ª—å–∑—É—é—Ç `environment`; —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ –ø–µ—Ä–µ–¥–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `production`. **‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ.** |
| **–°–æ–±—ã—Ç–∏—è —Å metadata.environment/testRunId** | `EventService.record` –¥–æ–±–∞–≤–ª—è–µ—Ç environment/testRunId/testSuite; list() —É–º–µ–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å. **‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ.** |
| **Rate limit –ø—Ä–µ—Ñ–∏–∫—Å `test:`** | `RateLimitEngine` –¥–æ–±–∞–≤–ª—è–µ—Ç/—É–¥–∞–ª—è–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å `test:` –≤ –∫–ª—é—á–∞—Ö, –≤–µ–¥—ë—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ environment. **‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ.** |
| **E2E-—Ç–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–æ–≤—ã–µ helper‚Äô—ã** | –ù–µ –≤—Å–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, `tests/e2e/chat.spec.ts` –ø–æ–¥–∫–ª—é—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ `generateTestRunId`, –Ω–æ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ—á–∏—Å—Ç–∫—É. –ß–∞—Å—Ç—å rate-limit —Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `clearRateLimitsForTestIP`, –Ω–æ –Ω–µ—Ç –µ–¥–∏–Ω–æ–≥–æ before/after –¥–ª—è –≤—Å–µ—Ö —Å–ø–µ–∫. **‚úó –ß–∞—Å—Ç–∏—á–Ω–æ.** |
| **–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤** | `/api/admin/data-sanitization` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç selective —Ä–µ–∂–∏–º –∏ `preserveAnalytics`; helper –≤—ã–∑—ã–≤–∞–µ—Ç –µ–≥–æ —Å –Ω—É–∂–Ω—ã–º–∏ –æ–ø—Ü–∏—è–º–∏. **‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ.** |
| **Retention policy –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π** | –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `EVENT_RETENTION_TEST_EVENTS_DAYS` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `env.ts`; `EventRetentionService` —É–º–µ–µ—Ç —á–∏—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è —Å–æ–≥–ª–∞—Å–Ω–æ —ç—Ç–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é. **‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ.** |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–æ—Å—Ç–æ—è–Ω–∏–π** | –ü–ª–∞–Ω –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ ¬´–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è¬ª, –æ–¥–Ω–∞–∫–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞–¥–∞—á —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã. –ò–Ω–¥–µ–∫—Å—ã —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ `STATUS_INDEX.md` –Ω–µ –æ—Ç—Ä–∞–∂–∞—é—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å. **‚úó –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤.** |

---

## üìê –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø–ª–∞–Ω–æ–º `plan-e2e-test-improvements-user-creation-2025-01-24.md`

| –ù–∞–±–ª—é–¥–µ–Ω–∏–µ | –ü–ª–∞–Ω –ø–æ–∫—Ä—ã–≤–∞–µ—Ç? | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------------|-----------------|-------------|
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–∞–ª–∏–¥–Ω—ã–µ –ø–∞—Ä–æ–ª–∏) | ‚ùå –ù–µ—Ç | –ü–ª–∞–Ω —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–∏–∫–∞–∫ –Ω–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –Ω–µ–∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π –≤ –∞–¥–º–∏–Ω—Å–∫–æ–º CRUD. |
| –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π toggle —Å—Ç–∞—Ç—É—Å–∞ –≤ UI/API | ‚ùå –ù–µ—Ç | –í –ø–ª–∞–Ω–µ –Ω–µ—Ç –∑–∞–¥–∞—á –Ω–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ API –∏ —Ñ—Ä–æ–Ω—Ç–∞ –¥–ª—è PATCH, —Ö–æ—Ç—è —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–π UX/—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –±–∞–≥. |
| –ò–º–ø–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (update/upsert) | ‚ùå –ù–µ—Ç | –ü–ª–∞–Ω –Ω–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –∞–¥–∞–ø—Ç–µ—Ä —ç–∫—Å–ø–æ—Ä—Ç–∞/–∏–º–ø–æ—Ä—Ç–∞, –ø–æ—ç—Ç–æ–º—É —Å–ª–æ–º–∞–Ω–Ω—ã–µ —Ä–µ–∂–∏–º—ã –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –≤–Ω–∏–º–∞–Ω–∏—è. |
| –ï–¥–∏–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–æ–≤ / —Ñ–∞–π–ª–æ–≤ | ‚ùå –ù–µ—Ç | –¢–µ–∫—É—â–∏–π –ø–ª–∞–Ω –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –º–µ–¥–∏–∞-—Å—Ç—Ä–∞—Ç–µ–≥–∏—é, –∏–∑-–∑–∞ —á–µ–≥–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è —Å–º–µ—à–µ–Ω–∏–µ FS –∏ base64. |
| –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | ‚ùå –ù–µ—Ç | –ü–ª–∞–Ω –Ω–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ—á–∏—Å—Ç–∫—É –∫–µ—à–∞ –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–∞—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. |
| –¢–µ—Å—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: helper‚Äô—ã, –º–µ—Ç—Ä–∏–∫–∏, —Å–æ–±—ã—Ç–∏—è, rate limit, retention | ‚úÖ –î–∞ | –≠—Ç–∏ —á–∞—Å—Ç–∏ –ø–ª–∞–Ω–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∫–æ–¥—É; –ª–∏—à—å e2e —Å–ø–µ–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é. |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤/–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –ü–ª–∞–Ω –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ ¬´–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è¬ª, —Ö–æ—Ç—è –∑–∞–¥–∞—á–∏ –æ—Ç–º–µ—á–µ–Ω—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏. –ù–µ—Ç –æ—Ç—Ä–∞–∂–µ–Ω–∏—è –≤ `STATUS_INDEX.md`, —á—Ç–æ –≤–≤–æ–¥–∏—Ç –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ. |

**–í—ã–≤–æ–¥:** –ü–ª–∞–Ω —Ö–æ—Ä–æ—à –¥–ª—è –∑–∞–¥–∞—á –ø–æ —Ç–µ—Å—Ç–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ, –Ω–æ –Ω–µ –∞–¥—Ä–µ—Å—É–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –¥–µ—Ñ–µ–∫—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –º–æ–¥—É–ª—è (security, CRUD, –∏–º–ø–æ—Ä—Ç). –î–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–ª–∞–Ω/–∏–Ω—Ü–∏–¥–µ–Ω—Ç –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º.

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–ª–∞–Ω –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π** –∑–∞–¥–∞—á–∞–º–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (bcrypt), –ø–æ—á–∏–Ω–∫–µ PATCH, —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∞–≤–∞—Ç–∞—Ä–æ–≤, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é `UserAdapter`.
2. **–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** (`STATUS_INDEX.md`, —Å–∞–º –ø–ª–∞–Ω) —á—Ç–æ–±—ã –æ—Ç—Ä–∞–∂–∞—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ e2e-–∑–∞–¥–∞—á –∏ –≤—ã–¥–µ–ª–∏—Ç—å –Ω–æ–≤—ã–µ —Ä–∞–±–æ—Ç—ã.
3. **–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã** –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ API (`POST/PUT/PATCH /api/admin/users`, `/api/admin/users` –∫–µ—à) –∏ –Ω–∞ –∏–º–ø–æ—Ä—Ç (`UserAdapter.saveImportedData`), —á—Ç–æ–±—ã –ø–ª–∞–Ω–æ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –Ω–µ —Ä–∞—Å—Ö–æ–¥–∏–ª–∏—Å—å —Å –∫–æ–¥–æ–º.
4. **–í–Ω–µ–¥—Ä–∏—Ç—å –æ–±—â–∏–µ DTO/–≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã** –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤, —á—Ç–æ–±—ã —Å–Ω–∏–∑–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –º–µ–∂–¥—É UI –∏ API.
5. **–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ bulk-–æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é** (batch endpoints –∏–ª–∏ background job) –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏.

---

## üìù –í—ã–≤–æ–¥—ã

–¢–µ–∫—É—â–∏–π –ø–ª–∞–Ω e2e-—Ç–µ—Å—Ç–æ–≤ —á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á–∏ —Ç–µ—Å—Ç–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –Ω–æ –æ–Ω –Ω–µ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –º–æ–¥—É–ª—è. –î–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç–µ–∫—É—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–ª–∞–Ω–∞) –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, API-–ª–æ–≥–∏–∫–µ –∏ –∏–º–ø–æ—Ä—Ç—É, –∞ —Ç–∞–∫–∂–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `docs/plans/active/plan-e2e-test-improvements-user-creation-2025-01-24.md`
- `src/app/api/admin/users/*`, `src/views/apps/user/list/UserListTable.tsx`
- `src/services/adapters/UserAdapter.ts`
- `tests/e2e/helpers/user-helpers.ts`, `tests/e2e/*.spec.ts`






