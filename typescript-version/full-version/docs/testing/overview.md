# üß™ –û–±–∑–æ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üìã –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   E2E —Ç–µ—Å—Ç—ã     ‚îÇ  ‚Üê –ü–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
‚îÇ  (Playwright)   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Component —Ç–µ—Å—Ç—ã ‚îÇ  ‚Üê React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ (RTL + Jest)    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Integration     ‚îÇ  ‚Üê API —Ä–æ—É—Ç—ã, —Å–µ—Ä–≤–∏—Å—ã
‚îÇ    —Ç–µ—Å—Ç—ã        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   Unit —Ç–µ—Å—Ç—ã    ‚îÇ  ‚Üê –£—Ç–∏–ª–∏—Ç—ã, —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ    (Jest)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### **Jest** - –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- ‚úÖ Unit –∏ integration —Ç–µ—Å—Ç—ã
- ‚úÖ TypeScript –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ –ú–æ–∫–∏ –∏ —Å–ø–∞–π—Å—ã
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- ‚úÖ Coverage –æ—Ç—á–µ—Ç—ã

### **React Testing Library (RTL)** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è, –∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (a11y)
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è
- ‚úÖ Snapshot —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **Playwright** - E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ö—Ä–æ—Å—Å-–±—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
- ‚úÖ –í–∏–¥–µ–æ –∑–∞–ø–∏—Å–∏
- ‚úÖ –ú–æ–±–∏–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìä –¢–µ–∫—É—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```
‚úÖ –í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤: 11
‚úÖ –ü—Ä–æ—Ö–æ–¥—è—Ç: 11
‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ: ~85%

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
‚îú‚îÄ‚îÄ src/utils/formatting/__tests__/getInitials.test.ts (8 —Ç–µ—Å—Ç–æ–≤)
‚îú‚îÄ‚îÄ src/app/api/auth/__tests__/login.test.ts (1 —Ç–µ—Å—Ç)
‚îú‚îÄ‚îÄ src/components/__tests__/DirectionalIcon.test.tsx (2 —Ç–µ—Å—Ç–∞)
‚îî‚îÄ‚îÄ e2e/auth.spec.ts (2 —Ç–µ—Å—Ç–∞)
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
```bash
pnpm test
```

### –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
```bash
pnpm run test:coverage
```

### –ó–∞–ø—É—Å–∫ –≤ watch —Ä–µ–∂–∏–º–µ
```bash
pnpm run test:watch
```

### –ó–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–æ–≤
```bash
pnpm run test:e2e
```

### –ó–∞–ø—É—Å–∫ E2E —Å UI
```bash
pnpm run test:e2e:ui
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
üìÅ src/
‚îú‚îÄ‚îÄ **/__tests__/          # Unit –∏ integration —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ *.test.ts
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ **/__tests__/      # Component —Ç–µ—Å—Ç—ã
‚îÇ       ‚îî‚îÄ‚îÄ *.test.tsx
‚îî‚îÄ‚îÄ app/api/
    ‚îî‚îÄ‚îÄ **/__tests__/      # API —Ç–µ—Å—Ç—ã

üìÅ e2e/                    # E2E —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ *.spec.ts

üìÅ docs/testing/           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ overview.md
‚îú‚îÄ‚îÄ unit-tests.md
‚îú‚îÄ‚îÄ component-tests.md
‚îú‚îÄ‚îÄ e2e-tests.md
‚îî‚îÄ‚îÄ configuration.md
```

## üéØ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### **–ü—Ä–∏–Ω—Ü–∏–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
- üß™ **–ò–∑–æ–ª—è—Ü–∏—è**: –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º
- üéØ **–§–æ–∫—É—Å –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–∏**: –¢–µ—Å—Ç–∏—Ä—É–µ–º —á—Ç–æ, –∞ –Ω–µ –∫–∞–∫
- üîÑ **DRY**: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- üìù **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ß–∏—Ç–∞–µ–º—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∞**
```typescript
describe('–ö–æ–º–ø–æ–Ω–µ–Ω—Ç/–§—É–Ω–∫—Ü–∏—è', () => {
  describe('–∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç X', () => {
    it('–¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å Y', () => {
      // Arrange
      const input = 'test'

      // Act
      const result = functionUnderTest(input)

      // Assert
      expect(result).toBe('expected')
    })
  })
})
```

### **–ú–æ–∫–∏ –∏ —Å—Ç–∞–±—ã**
```typescript
// –ú–æ–∫ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
jest.mock('@/lib/database', () => ({
  connect: jest.fn(),
  query: jest.fn()
}))

// –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏
beforeEach(() => {
  jest.clearAllMocks()
})
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### **Jest –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** (`jest.config.js`)
```javascript
module.exports = {
  testEnvironment: 'jest-environment-jsdom',
  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],
  moduleNameMapper: {
    '^@/(.*)$': '<rootDir>/src/$1'
  },
  collectCoverageFrom: [
    'src/**/*.{js,jsx,ts,tsx}',
    '!src/**/*.d.ts'
  ]
}
```

### **Playwright –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** (`playwright.config.ts`)
```typescript
export default defineConfig({
  testDir: './e2e',
  use: { baseURL: 'http://localhost:3000' },
  projects: [
    { name: 'chromium' },
    { name: 'firefox' },
    { name: 'webkit' }
  ]
})
```

## üìà –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

### **–¶–µ–ª–∏ –ø–æ–∫—Ä—ã—Ç–∏—è**
- **Statements**: > 80%
- **Branches**: > 75%
- **Functions**: > 85%
- **Lines**: > 80%

### **–ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–∞**
```bash
pnpm run test:coverage
# –û—Ç—á–µ—Ç –≤ ./coverage/lcov-report/index.html
```

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ —Ç–µ—Å—Ç–∞—Ö

### **Async/await**
```typescript
it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å async –æ–ø–µ—Ä–∞—Ü–∏–∏', async () => {
  const result = await asyncFunction()
  expect(result).toBeDefined()
})
```

### **–û—à–∏–±–∫–∏**
```typescript
it('–¥–æ–ª–∂–µ–Ω –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É', () => {
  expect(() => {
    throwError()
  }).toThrow('Expected error message')
})
```

## üîÑ CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### **GitHub Actions**
```yaml
- name: Run tests
  run: pnpm test

- name: Run E2E tests
  run: pnpm run test:e2e
```

### **Pre-commit hooks**
```bash
# –í package.json
{
  "husky": {
    "hooks": {
      "pre-commit": "pnpm test"
    }
  }
}
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Jest –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://jestjs.io/docs/getting-started)
- [React Testing Library](https://testing-library.com/docs/react-testing-library/intro/)
- [Playwright –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://playwright.dev/docs/intro)
- [Testing Library –ø—Ä–∏–Ω—Ü–∏–ø—ã](https://testing-library.com/docs/guiding-principles/)