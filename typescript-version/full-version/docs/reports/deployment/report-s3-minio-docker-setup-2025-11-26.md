# –û—Ç—á—ë—Ç: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ S3 (MinIO) Server –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–ü–µ—Ä–∏–æ–¥:** 2025-11-26  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-26  
**–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω

---

## üìã –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [–ê–Ω–∞–ª–∏–∑](../../analysis/architecture/analysis-s3-minio-docker-setup-2025-11-26.md)
- [–ü–ª–∞–Ω](../../plans/completed/plan-s3-minio-docker-setup-2025-11-26.md)

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:

1. ‚úÖ **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è**
   - –ò–∑—É—á–µ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è S3 –≤ –ø—Ä–æ–µ–∫—Ç–µ
   - –í—ã—è–≤–ª–µ–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Docker –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

2. ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ Docker –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã**
   - –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ `s3/`
   - –°–æ–∑–¥–∞–Ω `docker-compose.yml` —Å MinIO
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–æ—Ä—Ç—ã 9000 (API) –∏ 9001 (Console)
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω volume –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏

3. ‚úÖ **npm —Å–∫—Ä–∏–ø—Ç—ã**
   - `s3:up` - –∑–∞–ø—É—Å–∫ MinIO
   - `s3:down` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
   - `s3:logs` - –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

4. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
   - –°–æ–∑–¥–∞–Ω `s3/README.md` —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
   - –û–±–Ω–æ–≤–ª—ë–Ω `ROOT_FILES_DESCRIPTION.md`
   - –û–±–Ω–æ–≤–ª—ë–Ω `STATUS_INDEX.md`

### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã:

- [x] –≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã Docker - –ó–∞–≤–µ—Ä—à–µ–Ω 2025-11-26
- [x] –≠—Ç–∞–ø 2: npm —Å–∫—Ä–∏–ø—Ç—ã - –ó–∞–≤–µ—Ä—à–µ–Ω 2025-11-26
- [x] –≠—Ç–∞–ø 3: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - –ó–∞–≤–µ—Ä—à–µ–Ω 2025-11-26
- [x] –≠—Ç–∞–ø 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ - –ó–∞–≤–µ—Ä—à–µ–Ω 2025-11-26

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `s3/docker-compose.yml` | Docker Compose –¥–ª—è MinIO |
| `s3/README.md` | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é |
| `docs/analysis/architecture/analysis-s3-minio-docker-setup-2025-11-26.md` | –ê–Ω–∞–ª–∏–∑ |
| `docs/plans/active/plan-s3-minio-docker-setup-2025-11-26.md` | –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ |
| `docs/reports/deployment/report-s3-minio-docker-setup-2025-11-26.md` | –≠—Ç–æ—Ç –æ—Ç—á—ë—Ç |

## üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|-----------|
| `package.json` | –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã `s3:up`, `s3:down`, `s3:logs` |
| `docs/ROOT_FILES_DESCRIPTION.md` | –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "–ú–æ–¥—É–ª—å S3 (MinIO)" |
| `docs/STATUS_INDEX.md` | –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ –∞–Ω–∞–ª–∏–∑ –∏ –ø–ª–∞–Ω |

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Docker Compose

```yaml
services:
  minio:
    image: minio/minio:latest
    container_name: materio-s3
    ports:
      - '9000:9000'   # S3 API
      - '9001:9001'   # Web Console
    environment:
      MINIO_ROOT_USER: minioadmin
      MINIO_ROOT_PASSWORD: minioadmin123
    volumes:
      - minio-data:/data
```

### npm —Å–∫—Ä–∏–ø—Ç—ã

```json
{
  "s3:up": "docker compose -f s3/docker-compose.yml up -d",
  "s3:down": "docker compose -f s3/docker-compose.yml down",
  "s3:logs": "docker compose -f s3/docker-compose.yml logs -f"
}
```

---

## üåê URL —Å–µ—Ä–≤–∏—Å–æ–≤

| URL | –°–µ—Ä–≤–∏—Å | –£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
|-----|--------|----------------|
| http://localhost:9000 | S3 API | ‚Äî |
| http://localhost:9001 | MinIO Console | `minioadmin` / `minioadmin123` |

---

## üìà –ü—Ä–æ–≥—Ä–µ—Å—Å

- **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å:** 4 —ç—Ç–∞–ø–∞
- **–í—ã–ø–æ–ª–Ω–µ–Ω–æ:** 4 —ç—Ç–∞–ø–∞
- **–û—Å—Ç–∞–ª–æ—Å—å:** 0 —ç—Ç–∞–ø–æ–≤
- **–ü—Ä–æ–≥—Ä–µ—Å—Å:** 100%

---

## üí° –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ:

1. ‚úÖ –ü–æ–ª–Ω–∞—è Docker –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è S3 –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å `redis/` –∏ `queues/`
2. ‚úÖ –£–¥–æ–±–Ω—ã–µ npm —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
4. ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –º–æ–¥—É–ª–µ–º Media

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç—å MinIO –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ MediaService
2. **Bucket:** –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å–æ–∑–¥–∞—Ç—å bucket `materio-bucket` —á–µ—Ä–µ–∑ Console
3. **ENV:** –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ S3 –≤ `.env.local` –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```bash
# –ó–∞–ø—É—Å–∫ MinIO
pnpm s3:up

# –û—Ç–∫—Ä—ã—Ç—å Console
# http://localhost:9001 (minioadmin / minioadmin123)

# –°–æ–∑–¥–∞—Ç—å bucket "materio-bucket"

# –î–æ–±–∞–≤–∏—Ç—å –≤ .env.local:
# S3_ENDPOINT=http://localhost:9000
# S3_ACCESS_KEY=minioadmin
# S3_SECRET_KEY=minioadmin123
# S3_BUCKET=materio-bucket
# S3_REGION=us-east-1
```

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- MinIO –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å AWS S3 API
- S3Connector —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MinIO (preset `forcePathStyle: true`)
- Seed –¥–∞–Ω–Ω—ã–µ –≤ `prisma/seed.ts` —É–∂–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é MinIO (disabled –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

