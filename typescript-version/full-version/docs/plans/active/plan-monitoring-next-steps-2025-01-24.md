# –ü–ª–∞–Ω —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–æ–≤ –ø–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-01-24  
**–°—Ç–∞—Ç—É—Å:** –í —Ä–∞–±–æ—Ç–µ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

1. ‚úÖ **–°–æ–∑–¥–∞–Ω –≥–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥** (`/admin/monitoring/dashboard`)
   - –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `/api/admin/monitoring/dashboard`
   - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã –∏ —Å–µ—Ä–≤–∏—Å–æ–≤
   - –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (HTTP, WebSocket, –ë–î, Redis)
   - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã
   - –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥—ã

2. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–µ—Ç—Ä–∏–∫–∏ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**
   - –§—É–Ω–∫—Ü–∏—è `getTotalConnections()` —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ namespaces
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ —Å —Ä–µ–∞–ª—å–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
   - –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìã –°–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### 1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ Metrics (`/admin/monitoring/metrics`)

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç mock –¥–∞–Ω–Ω—ã–µ (—Å—Ç—Ä–æ–∫–∏ 34-66 –≤ `page.tsx`)
- –ï—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è `parsePrometheusMetrics`, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**–ó–∞–¥–∞—á–∏:**
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å mock –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/metrics`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ Prometheus –º–µ—Ç—Ä–∏–∫
- [ ] –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
  - HTTP –∑–∞–ø—Ä–æ—Å—ã (request rate, avg response time, error rate)
  - WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–∞–∫—Ç–∏–≤–Ω—ã–µ, —Å–æ–æ–±—â–µ–Ω–∏—è)
  - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (query duration, active connections)
  - Redis (memory, hit ratio, keys)
  - –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (CPU, Memory, Heap)

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/app/[lang]/(dashboard)/(private)/admin/monitoring/metrics/page.tsx`

---

#### 2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ Error Tracking (`/admin/monitoring/error-tracking`)

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ Sentry
- –ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ–± –æ—à–∏–±–∫–∞—Ö

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å API endpoint `/api/admin/monitoring/errors`
  - –ß—Ç–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –∏–∑ `logs/error-*.log`
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Sentry API (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
  - –ü–∞—Ä—Å–∏–Ω–≥ –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ—à–∏–±–æ–∫
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:
  - –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –æ—à–∏–±–æ–∫ (—Ç–∞–±–ª–∏—Ü–∞)
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫ (—Å—á–µ—Ç—á–∏–∫–∏, –≥—Ä–∞—Ñ–∏–∫–∏)
  - –¢–æ–ø –æ—à–∏–±–æ–∫
  - –§–∏–ª—å—Ç—Ä—ã (—Ç–∏–ø, —Å–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å, –≤—Ä–µ–º—è, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
  - –ü–æ–∏—Å–∫ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/app/api/admin/monitoring/errors/route.ts` (–Ω–æ–≤—ã–π)
- `src/app/[lang]/(dashboard)/(private)/admin/monitoring/error-tracking/page.tsx`

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è

#### 3. –ì—Ä–∞—Ñ–∏–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Metrics

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Recharts (—É–∂–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö)
- [ ] –ì—Ä–∞—Ñ–∏–∫–∏ –¥–ª—è:
  - HTTP Request Rate (–ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –ø–æ –≤—Ä–µ–º–µ–Ω–∏)
  - Avg Response Time (–ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫)
  - Error Rate (–ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫)
  - WebSocket Connections (–ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫)
  - Database Query Duration (–≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞)
  - Redis Memory Usage (–ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫)
  - System Resources (CPU, Memory - –ª–∏–Ω–µ–π–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏)

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/app/[lang]/(dashboard)/(private)/admin/monitoring/metrics/page.tsx`

---

#### 4. –§–∏–ª—å—Ç—Ä—ã –∏ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (1—á, 24—á, 7–¥, 30–¥)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
  - Dashboard: –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
  - Metrics: –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
  - Error Tracking: –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–≤–∫–ª/–≤—ã–∫–ª)

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/app/[lang]/(dashboard)/(private)/admin/monitoring/dashboard/page.tsx`
- `src/app/[lang]/(dashboard)/(private)/admin/monitoring/metrics/page.tsx`
- `src/app/[lang]/(dashboard)/(private)/admin/monitoring/error-tracking/page.tsx`

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 5. –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫ –≤ CSV
- [ ] –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫ –≤ JSON
- [ ] –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –æ—à–∏–±–æ–∫ –≤ CSV/JSON

---

#### 6. –†–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

**–ó–∞–¥–∞—á–∏:**
- [ ] –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å "Error Tracking" ‚Üí "Errors" –≤ –º–µ–Ω—é
- [ ] –£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã Overview –∏ Application Insights (–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å Dashboard)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/data/navigation/verticalMenuData.tsx`
- `src/data/navigation/horizontalMenuData.tsx`
- –£–¥–∞–ª–∏—Ç—å:
  - `src/app/[lang]/(dashboard)/(private)/admin/monitoring/overview/page.tsx`
  - `src/app/[lang]/(dashboard)/(private)/admin/monitoring/application-insights/page.tsx`

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. **–°–Ω–∞—á–∞–ª–∞:** –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Metrics (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1, –∑–∞–¥–∞—á–∞ 1)
2. **–ó–∞—Ç–µ–º:** –°–æ–∑–¥–∞—Ç—å API –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∫ Error Tracking (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1, –∑–∞–¥–∞—á–∞ 2)
3. **–ü–æ—Ç–æ–º:** –î–æ–±–∞–≤–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É Metrics (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2, –∑–∞–¥–∞—á–∞ 3)
4. **–î–∞–ª–µ–µ:** –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2, –∑–∞–¥–∞—á–∞ 4)
5. **–í –∫–æ–Ω—Ü–µ:** –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

```typescript
// –£–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
GET /api/admin/monitoring/dashboard

// –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å
GET /api/admin/monitoring/errors
  Query params:
    - limit: number (default: 50)
    - offset: number (default: 0)
    - severity: 'error' | 'warning' | 'info'
    - from: ISO date string
    - to: ISO date string
    - search: string (–ø–æ–∏—Å–∫ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—é)
  
  Response:
    {
      errors: Array<{
        id: string
        message: string
        severity: string
        timestamp: string
        component?: string
        stack?: string
        count: number
      }>
      total: number
      statistics: {
        total: number
        bySeverity: Record<string, number>
        byComponent: Record<string, number>
      }
    }
```

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏

- `recharts` - —É–∂–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- `date-fns` - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- `prom-client` - —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –º–µ—Ç—Ä–∏–∫

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [Monitoring Pages Analysis](../monitoring/monitoring-pages-analysis.md)
- [Socket.IO Analysis](../analysis/socket-io-analysis.md)
- [Socket.IO Metrics Fix Report](../reports/socket-io-metrics-fix-2025-01-24.md)







