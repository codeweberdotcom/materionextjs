# üìä –û–±–∑–æ—Ä –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## üéØ –¶–µ–ª–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- **–ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å** - –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
- **–ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º** - –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ —Å–±–æ—è—Ö
- **–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –º–µ—Ç—Ä–∏–∫–∏ –∏ —Ç—Ä–µ–∫–∏–Ω–≥
- **–û—Ç–ª–∞–¥–∫–∞** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ    ‚îÇ
‚îÇ   (Next.js)     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Error Tracking  ‚îÇ  ‚Üê Sentry/GlitchTip
‚îÇ   (Sentry)      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   –ú–µ—Ç—Ä–∏–∫–∏       ‚îÇ  ‚Üê Prometheus
‚îÇ (HTTP, WS, DB)  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Health Checks   ‚îÇ  ‚Üê /api/health
‚îÇ                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Application     ‚îÇ  ‚Üê Custom events
‚îÇ   Insights      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üõ†Ô∏è –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### **Error Tracking (Sentry)**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞—Ö–≤–∞—Ç –æ—à–∏–±–æ–∫
- ‚úÖ Source maps –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö –æ—à–∏–±–æ–∫

### **–ú–µ—Ç—Ä–∏–∫–∏ (Prometheus)**
- ‚úÖ HTTP –∑–∞–ø—Ä–æ—Å—ã (—Å—Ç–∞—Ç—É—Å, –≤—Ä–µ–º—è, —Ä–æ—É—Ç—ã)
- ‚úÖ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–∑–∞–ø—Ä–æ—Å—ã, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
- ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏

### **Health Checks**
- ‚úÖ –°—Ç–∞—Ç—É—Å –ë–î
- ‚úÖ –°—Ç–∞—Ç—É—Å –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ –û–±—â–∞—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

### **Application Insights**
- ‚úÖ –¢—Ä–µ–∫–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏

## üìä –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º

### **API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã**
```
GET /api/health      # Health check
GET /api/metrics     # Prometheus –º–µ—Ç—Ä–∏–∫–∏
```

### **–í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã**
```
Sentry Dashboard    # –û—à–∏–±–∫–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
Prometheus UI       # –ú–µ—Ç—Ä–∏–∫–∏ –∏ –≥—Ä–∞—Ñ–∏–∫–∏
Grafana             # –î–∞—à–±–æ—Ä–¥—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### **–õ–æ–≥–∏**
```
./logs/
‚îú‚îÄ‚îÄ application-*.log  # –û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏
‚îú‚îÄ‚îÄ error-*.log        # –û—à–∏–±–∫–∏
‚îî‚îÄ‚îÄ *.log              # –î—Ä—É–≥–∏–µ –ª–æ–≥–∏
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**
```bash
# Health check
curl http://localhost:3000/api/health

# –ú–µ—Ç—Ä–∏–∫–∏
curl http://localhost:3000/api/metrics
```

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ error tracking**
```typescript
import { trackError } from '@/lib/sentry'

trackError(new Error('Test error'), { component: 'Test' })
```

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫**
```typescript
import { trackEvent, trackPerformance } from '@/lib/insights'

trackEvent('user_action', { action: 'click', page: 'dashboard' })
trackPerformance('api_call', 150, { endpoint: '/api/users' })
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–ª–µ—Ä—Ç—ã

### **–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏**
- **HTTP Response Time** - –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API
- **Error Rate** - –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫
- **Database Query Time** - –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- **WebSocket Connections** - –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **Memory Usage** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

### **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∞–ª–µ—Ä—Ç—ã**
- HTTP 5xx –æ—à–∏–±–∫–∏ > 5%
- Response time > 2 —Å–µ–∫—É–Ω–¥—ã
- Database timeouts
- Memory usage > 90%

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
# Error Tracking
SENTRY_DSN=https://your-dsn@sentry.io/project

# –ú–µ—Ç—Ä–∏–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
PROMETHEUS_PUSHGATEWAY_URL=http://localhost:9091

# –õ–æ–≥–∏
LOG_LEVEL=info
```

### **Sentry –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
```typescript
// src/lib/sentry.ts
Sentry.init({
  dsn: process.env.SENTRY_DSN,
  environment: process.env.NODE_ENV,
  tracesSampleRate: 1.0,
  beforeSend(event) {
    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    return event
  }
})
```

### **Prometheus –º–µ—Ç—Ä–∏–∫–∏**
```typescript
// src/lib/metrics.ts
export const httpRequestDuration = new promClient.Histogram({
  name: 'http_request_duration_seconds',
  help: 'Duration of HTTP requests',
  labelNames: ['method', 'route', 'status_code']
})
```

## üì± –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

### **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**
- **URL**: `/admin/monitoring`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ error tracking
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Ç—Ä–∏–∫–∞—Ö
  - –°—Å—ã–ª–∫–∏ –Ω–∞ API

### **–î–æ—Å—Ç—É–ø**
```typescript
// –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ middleware –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
```

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–æ–¥

### **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
```typescript
import { trackError } from '@/lib/sentry'

try {
  await riskyOperation()
} catch (error) {
  trackError(error, {
    component: 'UserService',
    operation: 'createUser',
    userId: user.id
  })
  throw error
}
```

### **–¢—Ä–µ–∫–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
```typescript
import { trackPerformance } from '@/lib/insights'

const start = Date.now()
const result = await apiCall()
trackPerformance('api_call', Date.now() - start, {
  endpoint: '/api/users',
  method: 'GET'
})
```

### **–¢—Ä–µ–∫–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π**
```typescript
import { trackEvent } from '@/lib/insights'

trackEvent('user_login', {
  method: 'email',
  userId: user.id,
  timestamp: new Date().toISOString()
})
```

## üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

### **Grafana Dashboards**
```json
// –ü—Ä–∏–º–µ—Ä –ø–∞–Ω–µ–ª–∏
{
  "title": "HTTP Requests",
  "targets": [
    {
      "expr": "rate(http_requests_total[5m])",
      "legendFormat": "{{method}} {{route}}"
    }
  ]
}
```

### **Sentry Dashboard**
- **Issues** - —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫
- **Performance** - –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Releases** - —Ç—Ä–µ–∫–∏–Ω–≥ –¥–µ–ø–ª–æ–µ–≤

## üö® –ê–ª–µ—Ä—Ç—ã –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### **–¢–∏–ø—ã –∞–ª–µ—Ä—Ç–æ–≤**
- **Email** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- **Slack** - –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã
- **PagerDuty** - –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### **–ü—Ä–∞–≤–∏–ª–∞ –∞–ª–µ—Ä—Ç–æ–≤**
```yaml
# Prometheus alerting rules
groups:
  - name: api_alerts
    rules:
      - alert: HighErrorRate
        expr: rate(http_requests_total{status=~"5.."}[5m]) > 0.05
        for: 5m
        labels:
          severity: critical
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**
- –ü–∞—Ä–æ–ª–∏ –∏ —Ç–æ–∫–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è
- PII –¥–∞–Ω–Ω—ã–µ –º–∞—Å–∫–∏—Ä—É—é—Ç—Å—è
- –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è

### **–î–æ—Å—Ç—É–ø –∫ –º–µ—Ç—Ä–∏–∫–∞–º**
- –ú–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ
- Sentry dashboard –∑–∞—â–∏—â–µ–Ω
- –õ–æ–≥–∏ —Ä–æ—Ç–∏—Ä—É—é—Ç—Å—è –∏ –∞—Ä—Ö–∏–≤–∏—Ä—É—é—Ç—Å—è

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–ú–Ω–æ–≥–æ—Å–µ—Ä–≤–µ—Ä–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞**
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ç—Ä–µ–∫–∏–Ω–≥ –æ—à–∏–±–æ–∫
- –ê–≥—Ä–µ–≥–∞—Ü–∏—è –ª–æ–≥–æ–≤

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Ç—Ä–∏–∫
- –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –ª–æ–≥–æ–≤
- Sampling –¥–ª—è –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [Sentry Documentation](https://docs.sentry.io/)
- [Prometheus Documentation](https://prometheus.io/docs/)
- [Grafana Documentation](https://grafana.com/docs/)
- [Winston Logging](https://github.com/winstonjs/winston)